# Variables
set {
	$mod    mod4
	$mod2   mod4+Shift
	$left   h
	$down   j
	$up     k
	$right  l
	$term foot
	$menu fuzzel
	$resize_factor 4 ppt
}

## Software shortcuts
bindsym {
    ### Start Terminal
    $mod+t exec $term
    ### Kill focused windows
    $mod2+q kill
    ### Start launcher
    $mod+space exec $menu
    ### Dismiss notifications
    $mod+d exec makoctl dismiss
}

bindsym {
### Switch to workspace
	$mod+1 workspace number 1
	$mod+2 workspace number 2
	$mod+3 workspace number 3
	$mod+4 workspace number 4
	$mod+5 workspace number 5
	$mod+6 workspace number 6
	$mod+7 workspace number 7
	$mod+8 workspace number 8
	$mod+9 workspace number 9
	$mod+0 workspace number 10
### Move focused container to workspace
	$mod2+1 move container to workspace number 1
	$mod2+2 move container to workspace number 2
	$mod2+3 move container to workspace number 3
	$mod2+4 move container to workspace number 4
	$mod2+5 move container to workspace number 5
	$mod2+6 move container to workspace number 6
	$mod2+7 move container to workspace number 7
	$mod2+8 move container to workspace number 8
	$mod2+9 move container to workspace number 9
	$mod2+0 move container to workspace number 10
}

bindsym {
	### Make the current focus fullscreen
	$mod+f fullscreen
	### Toggle the current focus between tiling and floating mode
	$mod+s floating toggle
	### Swap focus between the tiling area and the floating area
	$mod2+s focus mode_toggle
	### Move focus to the parent container
	$mod+a focus parent
	### Move focus to the child container
	$mod2+a focus child
}

mode "resize" {
	### left will shrink the containers width
	### right will grow the containers width
	### up will shrink the containers height
	### down will grow the containers height
	bindsym {
		$left resize shrink width $resize_factor
		$down resize grow height $resize_factor
		$up rerrsize shrink height $resize_factor
		$right resize grow width $resize_factor
		$mod+r mode default
		# Return to default mode
		Return mode "default"
		Escape mode "default"
	}
}
bindsym $mod+r mode "resize"

# A special mode for passing any keybindings to the focused application
mode "passthrough" {
	bindsym {
		$mod+Pause mode default
		Return mode "default"
		Escape mode "default"
	}
}
bindsym $mod+Pause mode "passthrough"


## Drag floating windows by holding down $mod and left mouse button.
## Resize them with right mouse button + $mod.
## Despite the name, also works for non-floating windows.
## Change normal to inverse to use left mouse button for resizing and right
## mouse button for dragging.
floating_modifier $mod normal

## Reload the configuration file
bindsym $mod2+z reload

## Move your focus around
## Or use $mod+[up|down|left|right]
bindsym {
	$mod+$left focus left
	$mod+$down focus down
	$mod+$up focus up
	$mod+$right focus right
}

## Move the focused window with the same
bindsym {
	$mod2+$left move left
	$mod2+$down move down
	$mod2+$up move up
	$mod2+$right move right
}

# Media keys
bindsym {
	XF86AudioRaiseVolume exec wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 1%+ -l 1
	XF86AudioLowerVolume exec wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 1%- -l 1
	XF86AudioMute exec wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
	XF86AudioMicMute exec wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
	XF86AudioPlay exec playerctl play-pause
	XF86AudioPause exec playerctl play-pause
	XF86AudioNext exec playerctl next
	XF86AudioPrev exec playerctl previous
	XF86AudioStop exec playerctl stop
}

# clipman history
bindsym $mod2+v exec clipman pick --tool=STDOUT | fuzzel --dmenu | wl-copy

# Screenshot
bindsym {
	## Screenshot focused screeng
	Print exec grim -o $(swaymsg -t get_outputs | jq -r '.[] | select(.focused) | .name') \
		&& notify-send -u low "Captura de tela salva"

	## Screenshot focused window
	##https://www.reddit.com/r/swaywm/comments/kihm15/comment/ggqxl5q/
	$mod+Print exec swaymsg -t get_tree | jq -j \
		'.. | select(.type?) | select(.focused).rect | "\(.x),\(.y) \(.width)x\(.height)"' \
		| grim -g - && notify-send -u low "Captura de tela salva"

	## Screenshot region
	$mod2+Print exec grim -g "$(slurp)" && notify-send -u low "Captura de tela salva"
}
